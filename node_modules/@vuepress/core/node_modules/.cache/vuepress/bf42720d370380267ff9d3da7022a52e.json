{"remainingRequest":"/home/lansong/MyStudyNote/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lansong/MyStudyNote/node_modules/vuepress-theme-reco/components/Common.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/lansong/MyStudyNote/node_modules/vuepress-theme-reco/components/Common.vue","mtime":1708867320067},{"path":"/home/lansong/MyStudyNote/node_modules/cache-loader/dist/cjs.js","mtime":1708865839236},{"path":"/home/lansong/MyStudyNote/node_modules/babel-loader/lib/index.js","mtime":1708865839003},{"path":"/home/lansong/MyStudyNote/node_modules/cache-loader/dist/cjs.js","mtime":1708865839236},{"path":"/home/lansong/MyStudyNote/node_modules/vue-loader/lib/index.js","mtime":1708865841767}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgY29tcHV0ZWQsIHJlZiwgb25Nb3VudGVkIH0gZnJvbSAndnVlJwppbXBvcnQgTmF2YmFyIGZyb20gJ0B0aGVtZS9jb21wb25lbnRzL05hdmJhcicKaW1wb3J0IFNpZGViYXIgZnJvbSAnQHRoZW1lL2NvbXBvbmVudHMvU2lkZWJhcicKaW1wb3J0IFBlcnNvbmFsSW5mbyBmcm9tICdAdGhlbWUvY29tcG9uZW50cy9QZXJzb25hbEluZm8nCmltcG9ydCBQYXNzd29yZCBmcm9tICdAdGhlbWUvY29tcG9uZW50cy9QYXNzd29yZCcKaW1wb3J0IFN1YlNpZGViYXIgZnJvbSAnQHRoZW1lL2NvbXBvbmVudHMvU3ViU2lkZWJhcicKaW1wb3J0IHsgc2V0VGltZW91dCB9IGZyb20gJ3RpbWVycycKaW1wb3J0IHsgdXNlSW5zdGFuY2UgfSBmcm9tICdAdGhlbWUvaGVscGVycy9jb21wb3NhYmxlJwoKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7IFNpZGViYXIsIE5hdmJhciwgUGFzc3dvcmQsIFBlcnNvbmFsSW5mbywgU3ViU2lkZWJhciB9LAoKICBwcm9wczogewogICAgc2lkZWJhcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgc2lkZWJhckl0ZW1zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfSwKICAgIHNob3dNb2R1bGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAoKICBzZXR1cCAocHJvcHMsIGN0eCkgewogICAgY29uc3QgaW5zdGFuY2UgPSB1c2VJbnN0YW5jZSgpCgogICAgY29uc3QgaXNTaWRlYmFyT3BlbiA9IHJlZihmYWxzZSkKICAgIGNvbnN0IGlzSGFzS2V5ID0gcmVmKHRydWUpCiAgICBjb25zdCBpc0hhc1BhZ2VLZXkgPSByZWYodHJ1ZSkKICAgIGNvbnN0IGZpcnN0TG9hZCA9IHJlZih0cnVlKQoKICAgIGNvbnN0IHNob3VsZFNob3dTaWRlYmFyID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMuc2lkZWJhckl0ZW1zLmxlbmd0aCA+IDApCiAgICBjb25zdCBhYnNvbHV0ZUVuY3J5cHRpb24gPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIHJldHVybiBpbnN0YW5jZS4kdGhlbWVDb25maWcua2V5UGFnZSAmJiBpbnN0YW5jZS4kdGhlbWVDb25maWcua2V5UGFnZS5hYnNvbHV0ZUVuY3J5cHRpb24gPT09IHRydWUKICAgIH0pCiAgICBjb25zdCBzaG91bGRTaG93TmF2YmFyID0gY29tcHV0ZWQoKCkgPT4gewogICAgICBjb25zdCB7IHRoZW1lQ29uZmlnIH0gPSBpbnN0YW5jZS4kc2l0ZQogICAgICBjb25zdCB7IGZyb250bWF0dGVyIH0gPSBpbnN0YW5jZS4kcGFnZQoKICAgICAgaWYgKAogICAgICAgIGZyb250bWF0dGVyLm5hdmJhciA9PT0gZmFsc2UgfHwKICAgICAgICB0aGVtZUNvbmZpZy5uYXZiYXIgPT09IGZhbHNlCiAgICAgICkgcmV0dXJuIGZhbHNlCgogICAgICByZXR1cm4gKAogICAgICAgIGluc3RhbmNlLiR0aXRsZSB8fAogICAgICAgIHRoZW1lQ29uZmlnLmxvZ28gfHwKICAgICAgICB0aGVtZUNvbmZpZy5yZXBvIHx8CiAgICAgICAgdGhlbWVDb25maWcubmF2IHx8CiAgICAgICAgaW5zdGFuY2UuJHRoZW1lTG9jYWxlQ29uZmlnLm5hdgogICAgICApCiAgICB9KQoKICAgIGNvbnN0IHBhZ2VDbGFzc2VzID0gY29tcHV0ZWQoKCkgPT4gewogICAgICBjb25zdCBjbGFzc1ZhbHVlID0gewogICAgICAgICduby1uYXZiYXInOiAhc2hvdWxkU2hvd05hdmJhci52YWx1ZSwKICAgICAgICAnc2lkZWJhci1vcGVuJzogaXNTaWRlYmFyT3Blbi52YWx1ZSwKICAgICAgICAnbm8tc2lkZWJhcic6ICFzaG91bGRTaG93U2lkZWJhci52YWx1ZQogICAgICB9CgogICAgICBjb25zdCB7IHBhZ2VDbGFzczogdXNlclBhZ2VDbGFzcyB9ID0gaW5zdGFuY2UuJGZyb250bWF0dGVyIHx8IHt9CiAgICAgIGlmICh1c2VyUGFnZUNsYXNzKSBjbGFzc1ZhbHVlW3VzZXJQYWdlQ2xhc3NdID0gdHJ1ZQoKICAgICAgcmV0dXJuIGNsYXNzVmFsdWUKICAgIH0pCgogICAgY29uc3QgaGFzS2V5ID0gKCkgPT4gewogICAgICBjb25zdCB7IGtleVBhZ2UgfSA9IGluc3RhbmNlLiR0aGVtZUNvbmZpZwogICAgICBpZiAoIWtleVBhZ2UgfHwgIWtleVBhZ2Uua2V5cyB8fCBrZXlQYWdlLmtleXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgaXNIYXNLZXkudmFsdWUgPSB0cnVlCiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIGxldCB7IGtleXMgfSA9IGtleVBhZ2UKICAgICAga2V5cyA9IGtleXMubWFwKGl0ZW0gPT4gaXRlbS50b0xvd2VyQ2FzZSgpKQogICAgICBpc0hhc0tleS52YWx1ZSA9IGtleXMgJiYga2V5cy5pbmRleE9mKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2tleScpKSA+IC0xCiAgICB9CiAgICBjb25zdCBpbml0Um91dGVySGFuZGxlciA9ICgpID0+IHsKICAgICAgaW5zdGFuY2UuJHJvdXRlci5hZnRlckVhY2goKCkgPT4gewogICAgICAgIGlzU2lkZWJhck9wZW4udmFsdWUgPSBmYWxzZQogICAgICB9KQogICAgfQogICAgY29uc3QgaGFzUGFnZUtleSA9ICgpID0+IHsKICAgICAgbGV0IHBhZ2VLZXlzID0gaW5zdGFuY2UuJGZyb250bWF0dGVyLmtleXMKICAgICAgaWYgKCFwYWdlS2V5cyB8fCBwYWdlS2V5cy5sZW5ndGggPT09IDApIHsKICAgICAgICBpc0hhc1BhZ2VLZXkudmFsdWUgPSB0cnVlCiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHBhZ2VLZXlzID0gcGFnZUtleXMubWFwKGl0ZW0gPT4gaXRlbS50b0xvd2VyQ2FzZSgpKQoKICAgICAgaXNIYXNQYWdlS2V5LnZhbHVlID0gcGFnZUtleXMuaW5kZXhPZihzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGBwYWdlS2V5JHt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWV9YCkpID4gLTEKICAgIH0KICAgIGNvbnN0IHRvZ2dsZVNpZGViYXIgPSAodG8pID0+IHsKICAgICAgaXNTaWRlYmFyT3Blbi52YWx1ZSA9IHR5cGVvZiB0byA9PT0gJ2Jvb2xlYW4nID8gdG8gOiAhaXNTaWRlYmFyT3Blbi52YWx1ZQogICAgfQogICAgY29uc3QgaGFuZGxlTG9hZGluZyA9ICgpID0+IHsKICAgICAgY29uc3QgdGltZSA9IGluc3RhbmNlLiRmcm9udG1hdHRlci5ob21lICYmIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2ZpcnN0TG9hZCcpID09IHVuZGVmaW5lZCA/IDEwMDAgOiAwCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGZpcnN0TG9hZC52YWx1ZSA9IGZhbHNlCiAgICAgICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2ZpcnN0TG9hZCcpID09IHVuZGVmaW5lZCkgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnZmlyc3RMb2FkJywgZmFsc2UpCiAgICAgIH0sIHRpbWUpCiAgICB9CgogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgaW5pdFJvdXRlckhhbmRsZXIoKQogICAgICBoYXNLZXkoKQogICAgICBoYXNQYWdlS2V5KCkKICAgICAgaGFuZGxlTG9hZGluZygpCiAgICB9KQoKICAgIHJldHVybiB7IGlzU2lkZWJhck9wZW4sIGFic29sdXRlRW5jcnlwdGlvbiwgc2hvdWxkU2hvd05hdmJhciwgc2hvdWxkU2hvd1NpZGViYXIsIHBhZ2VDbGFzc2VzLCBoYXNLZXksIGhhc1BhZ2VLZXksIGlzSGFzS2V5LCBpc0hhc1BhZ2VLZXksIHRvZ2dsZVNpZGViYXIsIGZpcnN0TG9hZCB9CiAgfSwKCiAgd2F0Y2g6IHsKICAgICRmcm9udG1hdHRlciAobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5oYXNLZXkoKQogICAgICB0aGlzLmhhc1BhZ2VLZXkoKQogICAgfQogIH0KfSkK"},{"version":3,"sources":["Common.vue"],"names":[],"mappings":";AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Common.vue","sourceRoot":"node_modules/vuepress-theme-reco/components","sourcesContent":["<template>\n  <div class=\"theme-container\" :class=\"pageClasses\">\n    <div v-if=\"!absoluteEncryption\">\n      <transition name=\"fade\">\n        <Password v-show=\"!firstLoad && !isHasKey\" class=\"password-wrapper-out\" key=\"out\" />\n      </transition>\n\n      <div :class=\"{ 'hide': firstLoad || !isHasKey }\">\n        <Navbar v-if=\"shouldShowNavbar\" @toggle-sidebar=\"toggleSidebar\" />\n\n        <div class=\"sidebar-mask\" @click=\"toggleSidebar(false)\"></div>\n\n        <Sidebar :items=\"sidebarItems\" @toggle-sidebar=\"toggleSidebar\">\n          <PersonalInfo slot=\"top\" />\n          <slot name=\"sidebar-bottom\" slot=\"bottom\"/>\n        </Sidebar>\n\n        <Password v-show=\"!isHasPageKey\" :isPage=\"true\" class=\"password-wrapper-in\" key=\"in\"></Password>\n        <div :class=\"{ 'hide': !isHasPageKey }\">\n          <slot></slot>\n        </div>\n\n        <SubSidebar class=\"sub-sidebar\" />\n      </div>\n    </div>\n    <div v-else>\n        <transition name=\"fade\">\n          <Password v-if=\"!isHasKey\" />\n        </transition>\n        <div v-if=\"isHasKey\">\n          <Navbar v-if=\"shouldShowNavbar\" @toggle-sidebar=\"toggleSidebar\"/>\n\n          <div class=\"sidebar-mask\" @click=\"toggleSidebar(false)\"></div>\n\n          <Sidebar :items=\"sidebarItems\" @toggle-sidebar=\"toggleSidebar\">\n            <PersonalInfo slot=\"top\" />\n            <slot name=\"sidebar-bottom\" slot=\"bottom\"/>\n          </Sidebar>\n\n          <Password v-if=\"!isHasPageKey\" :isPage=\"true\"></Password>\n          <slot v-else></slot>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, computed, ref, onMounted } from 'vue'\nimport Navbar from '@theme/components/Navbar'\nimport Sidebar from '@theme/components/Sidebar'\nimport PersonalInfo from '@theme/components/PersonalInfo'\nimport Password from '@theme/components/Password'\nimport SubSidebar from '@theme/components/SubSidebar'\nimport { setTimeout } from 'timers'\nimport { useInstance } from '@theme/helpers/composable'\n\nexport default defineComponent({\n  components: { Sidebar, Navbar, Password, PersonalInfo, SubSidebar },\n\n  props: {\n    sidebar: {\n      type: Boolean,\n      default: true\n    },\n    sidebarItems: {\n      type: Array,\n      default: () => []\n    },\n    showModule: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  setup (props, ctx) {\n    const instance = useInstance()\n\n    const isSidebarOpen = ref(false)\n    const isHasKey = ref(true)\n    const isHasPageKey = ref(true)\n    const firstLoad = ref(true)\n\n    const shouldShowSidebar = computed(() => props.sidebarItems.length > 0)\n    const absoluteEncryption = computed(() => {\n      return instance.$themeConfig.keyPage && instance.$themeConfig.keyPage.absoluteEncryption === true\n    })\n    const shouldShowNavbar = computed(() => {\n      const { themeConfig } = instance.$site\n      const { frontmatter } = instance.$page\n\n      if (\n        frontmatter.navbar === false ||\n        themeConfig.navbar === false\n      ) return false\n\n      return (\n        instance.$title ||\n        themeConfig.logo ||\n        themeConfig.repo ||\n        themeConfig.nav ||\n        instance.$themeLocaleConfig.nav\n      )\n    })\n\n    const pageClasses = computed(() => {\n      const classValue = {\n        'no-navbar': !shouldShowNavbar.value,\n        'sidebar-open': isSidebarOpen.value,\n        'no-sidebar': !shouldShowSidebar.value\n      }\n\n      const { pageClass: userPageClass } = instance.$frontmatter || {}\n      if (userPageClass) classValue[userPageClass] = true\n\n      return classValue\n    })\n\n    const hasKey = () => {\n      const { keyPage } = instance.$themeConfig\n      if (!keyPage || !keyPage.keys || keyPage.keys.length === 0) {\n        isHasKey.value = true\n        return\n      }\n\n      let { keys } = keyPage\n      keys = keys.map(item => item.toLowerCase())\n      isHasKey.value = keys && keys.indexOf(sessionStorage.getItem('key')) > -1\n    }\n    const initRouterHandler = () => {\n      instance.$router.afterEach(() => {\n        isSidebarOpen.value = false\n      })\n    }\n    const hasPageKey = () => {\n      let pageKeys = instance.$frontmatter.keys\n      if (!pageKeys || pageKeys.length === 0) {\n        isHasPageKey.value = true\n        return\n      }\n\n      pageKeys = pageKeys.map(item => item.toLowerCase())\n\n      isHasPageKey.value = pageKeys.indexOf(sessionStorage.getItem(`pageKey${window.location.pathname}`)) > -1\n    }\n    const toggleSidebar = (to) => {\n      isSidebarOpen.value = typeof to === 'boolean' ? to : !isSidebarOpen.value\n    }\n    const handleLoading = () => {\n      const time = instance.$frontmatter.home && sessionStorage.getItem('firstLoad') == undefined ? 1000 : 0\n      setTimeout(() => {\n        firstLoad.value = false\n        if (sessionStorage.getItem('firstLoad') == undefined) sessionStorage.setItem('firstLoad', false)\n      }, time)\n    }\n\n    onMounted(() => {\n      initRouterHandler()\n      hasKey()\n      hasPageKey()\n      handleLoading()\n    })\n\n    return { isSidebarOpen, absoluteEncryption, shouldShowNavbar, shouldShowSidebar, pageClasses, hasKey, hasPageKey, isHasKey, isHasPageKey, toggleSidebar, firstLoad }\n  },\n\n  watch: {\n    $frontmatter (newVal, oldVal) {\n      this.hasKey()\n      this.hasPageKey()\n    }\n  }\n})\n</script>\n\n<style lang=\"stylus\" scoped>\n.theme-container\n  .sub-sidebar\n    position fixed\n    top 5rem\n    bottom 5rem\n    right 2rem\n    overflow-y scroll\n    &::-webkit-scrollbar\n      width: 0\n      height: 0\n  .loading-wrapper\n    position absolute\n    z-index 22\n    top 0\n    bottom 0\n    left 0\n    right 0\n    margin auto\n  .password-wrapper-out\n    position absolute\n    z-index 21\n    top 0\n    bottom 0\n    left 0\n    right 0\n    margin auto\n  .password-wrapper-in\n    position absolute\n    z-index 8\n    top 0\n    bottom 0\n    left 0\n    right 0\n  .hide\n    height 100vh\n    overflow hidden\n    opacity 0\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .5s ease-in-out .5s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n\n@media (max-width: $MQMobile)\n  .theme-container\n    .sub-sidebar\n      display none\n</style>\n"]}]}