{"remainingRequest":"/home/lansong/design-pattern/node_modules/babel-loader/lib/index.js??ref--3-1!/home/lansong/design-pattern/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/lansong/design-pattern/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lansong/design-pattern/node_modules/@qcyblm/vuepress-theme-vpx/components/ThemeSwitcher.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lansong/design-pattern/node_modules/@qcyblm/vuepress-theme-vpx/components/ThemeSwitcher.vue","mtime":1708915343309},{"path":"/home/lansong/design-pattern/node_modules/cache-loader/dist/cjs.js","mtime":1708865839236},{"path":"/home/lansong/design-pattern/node_modules/babel-loader/lib/index.js","mtime":1708915344507},{"path":"/home/lansong/design-pattern/node_modules/cache-loader/dist/cjs.js","mtime":1708865839236},{"path":"/home/lansong/design-pattern/node_modules/vue-loader/lib/index.js","mtime":1708915344582}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUaGVtZVN3aXRjaGVyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNMaWdodDogJ2xpZ2h0JwogICAgfTsKICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHZhciBodG1sVGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImh0bWwiKVswXTsKCiAgICBpZiAoIXdpbmRvdy5sb2NhbFN0b3JhZ2UpIHsKICAgICAgY29uc29sZS5sb2coIlRoZSBicm93c2VyIG5lZWRzIHRvIHN1cHBvcnQgbG9jYWxzdG9yYWdlLiIpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IGVsc2UgewogICAgICB2YXIgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7CgogICAgICBpZiAoIXN0b3JhZ2UuZ2V0SXRlbSgibXl0aCIpKSB7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0aGVtZSIsICJsaWdodCIpOwogICAgICAgIGh0bWxUYWcuc2V0QXR0cmlidXRlKCJkYXRhLXRoZW1lIiwgImxpZ2h0Iik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmlzTGlnaHQgPSBzdG9yYWdlLmdldEl0ZW0oInRoZW1lIik7CgogICAgICBpZiAodGhpcy5pc0xpZ2h0ID09PSAnbGlnaHQnKSB7CiAgICAgICAgdGhpcy5pc0xpZ2h0ID0gdHJ1ZTsKICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInRoZW1lIiwgImxpZ2h0Iik7CiAgICAgICAgaHRtbFRhZy5zZXRBdHRyaWJ1dGUoImRhdGEtdGhlbWUiLCAibGlnaHQiKTsKICAgICAgICB0aGlzLiRlbWl0KCJ0aGVtZU1vZGUiLCAibGlnaHQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzTGlnaHQgPSBmYWxzZTsKICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInRoZW1lIiwgImRhcmsiKTsKICAgICAgICBodG1sVGFnLnNldEF0dHJpYnV0ZSgiZGF0YS10aGVtZSIsICJkYXJrIik7CiAgICAgICAgdGhpcy4kZW1pdCgidGhlbWVNb2RlIiwgImRhcmsiKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdGhlbWVTd2l0Y2g6IGZ1bmN0aW9uIHRoZW1lU3dpdGNoKCkgewogICAgICB3aW5kb3cubG9jYXRpb247CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgibXl0aCIsICIxIik7CiAgICAgIHRoaXMuaXNMaWdodCA9ICF0aGlzLmlzTGlnaHQ7CiAgICAgIHZhciBodG1sVGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImh0bWwiKVswXTsKCiAgICAgIGlmICh0aGlzLmlzTGlnaHQpIHsKICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInRoZW1lIiwgImxpZ2h0Iik7CiAgICAgICAgaHRtbFRhZy5zZXRBdHRyaWJ1dGUoImRhdGEtdGhlbWUiLCAibGlnaHQiKTsKICAgICAgICB0aGlzLiRlbWl0KCJ0aGVtZU1vZGUiLCAibGlnaHQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInRoZW1lIiwgImRhcmsiKTsKICAgICAgICBodG1sVGFnLnNldEF0dHJpYnV0ZSgiZGF0YS10aGVtZSIsICJkYXJrIik7CiAgICAgICAgdGhpcy4kZW1pdCgidGhlbWVNb2RlIiwgImRhcmsiKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;AAgBA;AACAA,uBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AADA;AAGA,GANA;AAOAC,aAPA,yBAOA;AACA;;AACA;AACAC;AACA;AACA,KAHA,MAGA;AACA;;AACA;AACAC;AACAC;AACA;AACA;;AACA;;AACA;AACA;AACAD;AACAC;AACA;AACA,OALA,MAKA;AACA;AACAD;AACAC;AACA;AACA;AACA;AACA,GAhCA;AAiCAC;AACAC,eADA,yBACA;AACAH;AACAA;AACA;AACA;;AACA;AACAA;AACAC;AACA;AACA,OAJA,MAIA;AACAD;AACAC;AACA;AACA;AACA;AAfA;AAjCA","names":["name","data","isLight","beforeMount","console","window","htmlTag","methods","themeSwitch"],"sources":["ThemeSwitcher.vue"],"sourcesContent":["<template>\r\n  <div class=\"theme-switcher\">\r\n    <a\r\n      class=\"switch\"\r\n      :class=\"{ light: isLight, dark: !isLight }\"\r\n      @click=\"themeSwitch\"\r\n    >\r\n      <span>\r\n        <i v-if=\"isLight\" class=\"fa fa-sun\" aria-hidden=\"true\"></i>\r\n        <i v-else class=\"fa fa-moon\" aria-hidden=\"true\"></i>\r\n      </span>\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ThemeSwitcher\",\r\n  data() {\r\n    return {\r\n      isLight: 'light',\r\n    };\r\n  },\r\n  beforeMount() {\r\n    let htmlTag = document.getElementsByTagName(\"html\")[0];\r\n    if (!window.localStorage) {\r\n      console.log(\"The browser needs to support localstorage.\");\r\n      return false;\r\n    } else {\r\n      var storage = window.localStorage;\r\n       if (!storage.getItem(\"myth\")) {\r\n         window.localStorage.setItem(\"theme\", \"light\");\r\n        htmlTag.setAttribute(\"data-theme\", \"light\");\r\n        return\r\n      }\r\n      this.isLight = storage.getItem(\"theme\");\r\n      if (this.isLight === 'light') {\r\n        this.isLight = true;\r\n        window.localStorage.setItem(\"theme\", \"light\");\r\n        htmlTag.setAttribute(\"data-theme\", \"light\");\r\n        this.$emit(\"themeMode\", \"light\");\r\n      } else {\r\n        this.isLight= false\r\n        window.localStorage.setItem(\"theme\", \"dark\");\r\n        htmlTag.setAttribute(\"data-theme\", \"dark\");\r\n        this.$emit(\"themeMode\", \"dark\");\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    themeSwitch() {\r\n      window.location;\r\n      window.localStorage.setItem(\"myth\", \"1\");\r\n      this.isLight = !this.isLight;\r\n      let htmlTag = document.getElementsByTagName(\"html\")[0];\r\n      if (this.isLight) {\r\n        window.localStorage.setItem(\"theme\", \"light\");\r\n        htmlTag.setAttribute(\"data-theme\", \"light\");\r\n        this.$emit(\"themeMode\", \"light\");\r\n      } else {\r\n        window.localStorage.setItem(\"theme\", \"dark\");\r\n        htmlTag.setAttribute(\"data-theme\", \"dark\");\r\n        this.$emit(\"themeMode\", \"dark\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n.theme-switcher\r\n  position relative\r\n  width 40px\r\n  margin-left 1.5rem\r\n  .switch\r\n    display inline-block\r\n    vertical-align middle\r\n    width 100%\r\n    height 10px\r\n    border-radius 9px\r\n    cursor pointer\r\n    &:focus, &:active, &:link\r\n      -webkit-tap-highlight-color rgba(0, 0, 0, 0)\r\n    span\r\n      display flex\r\n      align-items center\r\n      justify-content center\r\n      width 22px\r\n      height 22px\r\n      padding 3px\r\n      border-radius 12px\r\n      position absolute\r\n      top 22%\r\n      transition: 0.5s ease\r\n      box-sizing border-box\r\n  .light\r\n    background-color #dfdfdf\r\n    span\r\n      background-color #35363a\r\n      transform translateX(0%)\r\n      color #FFF\r\n  .dark\r\n    background-color #404040\r\n    span\r\n      background-color rgba(255, 255, 255, 0.8)\r\n      transform translateX(50%)\r\n      right 11px\r\n      color #000\r\n@media (max-width: $MQMobile)\r\n  .theme-switcher\r\n    width 1rem\r\n    .dark\r\n      span\r\n        transform: translateX(0%)\r\n        left: 0\r\n</style>\r\n"],"sourceRoot":"node_modules/@qcyblm/vuepress-theme-vpx/components"}]}